<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>TermSuite Java API</title>

    <meta name="description" content="excerpts.java-api" />
    <meta name="robots" content="index,follow" />

    <link rel="shortcut icon" type="image/png" href="/favicon.png">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" >


    <!-- Font awesome -->
    <link rel="stylesheet" href="/css/font-awesome.min.css" >

    <!-- Optional theme -->
    <!-- Theme saved here: https://gist.github.com/00f325b64a30d6e4c008 -->
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css">

    <link rel="stylesheet" href="/css/bootstrap-formhelpers.min.css" >

    <link rel="canonical" href="http://termsuite.github.io/documentation/java-api/">

    <link rel="stylesheet" href="/css/main.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/bootstrap-formhelpers.min.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>
</head>


  <body>
    <div id="wrap">
        <a href="https://github.com/termsuite/termsuite-core">
  <img
    style="position: absolute; top: 0; left: 0; border: 0;z-index: 2;"
    title="Fork TermSuite on GitHub."
    src="/img/forkme.png"
    alt="Fork TermSuite on GitHub."></a>

<header>

  <nav class="navbar navbar-default">
    <ul  class="nav navbar-nav navbar-right navright">
        <li class="" >
          <a class="" href="/contact">
            <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Newsletter
          </a>
        </li>
    </ul>



    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">
          <img alt="Brand" height="87" src="/img/logo-termsuite-txt.png">
        </a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class=""><a href="/getting-started">Getting Started</a></li>
          <li class="active"><a href="/documentation/introduction/" >Documentation</a></li>
          <li class=""><a href="/#publications" >Publications</a></li>
          <li id="about" class="dropdown">
            <a href="/about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a href="/changelog">Change log</a></li>
              <li><a href="/contact">Contact</a></li>
              <li><a href="/documentation/support">Support</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="https://github.com/termsuite/termsuite-core" target="blank">View on Github</a></li>
              <li role="separator" class="divider"></li>
              <li><a href="/about">About TermSuite</a></li>
              <li><a href="/blog">Blog</a></li>
            </ul>
          </li>
        </ul>
        <ul  class="nav navbar-nav navbar-right">
            <li class="active" ><a href="/documentation/java-api/" >
            <img class="flag" src="/img/flags/United-Kingdom.png" alt="English" title="Visit site in english">
            </a></li>
            <li class="" ><a href="/fr/documentation/java-api/" >
            <img class="flag" src="/img/flags/France.png" alt="Français" title="Visiter le site en français">
            </a></li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
</header>


        <div class="container">

  <div class="row">
  <div class="col-md-4"></div>
  <div class="col-md-8">
    <header class="page-header">
      <h1>Documentation <small>TermSuite Java API</small></h1>
    </header>
    <div class="share-page lead">
    <a class="btn btn-social-icon btn-twitter"
        href="https://twitter.com/intent/tweet?text=titles.java-api&url=http://termsuite.github.io/documentation/java-api/&via=&related="
        rel="nofollow" target="_blank" title="Share on Twitter">
      <span class="fa fa-twitter"></span>
    </a>
    <a class="btn btn-social-icon btn-facebook"
      href="https://facebook.com/sharer.php?u=http://termsuite.github.io/documentation/java-api/" rel="nofollow" target="_blank" title="Share on Facebook"><span class="fa fa-facebook"></span>
    </a>
    <a class="btn btn-social-icon btn-google"
      href="https://plus.google.com/share?url=http://termsuite.github.io/documentation/java-api/" rel="nofollow" target="_blank" title="Share on Google+"><span class="fa fa-google"></span>
    </a>
    <a class="btn btn-social-icon btn-linkedin"
      href="http://www.linkedin.com/shareArticle?mini=true&url=http://termsuite.github.io/documentation/java-api/&title=titles.java-api&summary=excerpts.java-api&source=http://termsuite.github.io" rel="nofollow" target="_blank" title="Share on LinkedIn"><span class="fa fa-linkedin"></span>
    </a>
    <a class="btn btn-social-icon btn-reddit"
      href="http://www.reddit.com/submit?url=http://termsuite.github.io/documentation/java-api/&title=titles.java-api" rel="nofollow" target="_blank" title="Share on Reddit"><span class="fa fa-reddit"></span>
    </a>
</div>

  </div>
  <div class="row">
    <div class="list-group col-md-3">

        
          
            <a title="titles.introduction"
            class="list-group-item "
            href="/documentation/introduction/">
              Introduction
            </a>
          
        
          
            <a title="titles.getting-started-cmd"
            class="list-group-item "
            href="/getting-started/">
              Getting Started [Tutorial]
            </a>
          
        
          
            <a title="titles.gui"
            class="list-group-item "
            href="/gui/">
              Graphical User Interface [Tutorial]
            </a>
          
        
          
            <a title="titles.postagger"
            class="list-group-item "
            href="/documentation/pos-tagger-lemmatizer/">
              Installing a POS Tagger
            </a>
          
        
          
            <a title="titles.command-line-api"
            class="list-group-item "
            href="/documentation/command-line-api/">
              Command line API
            </a>
          
        
          
            <a title="titles.java-api"
            class="list-group-item active"
            href="/documentation/java-api/">
              Java API
            </a>
          
        
          
            <a title="titles.resources"
            class="list-group-item "
            href="/documentation/resources/">
              Resources (resource pack, dictionaries)
            </a>
          
        
          
            <a title="titles.term-properties"
            class="list-group-item "
            href="/documentation/term-properties/">
              Term Properties
            </a>
          
        
          
            <a title="titles.developers"
            class="list-group-item "
            href="/documentation/developers/">
              Developers (Gradle / Maven)
            </a>
          
        
          
            <a title="titles.support"
            class="list-group-item "
            href="/documentation/support/">
              Support
            </a>
          
        
          
        
    </div>

    <div class="col-md-1">
    </div>

    <div class="col-md-8">

      <article class="doc-content">
        
<p>TermSuite offers a convenient way of running terminology extraction and multilingual terminology alignment from its Java API. As expected, this way of running TermSuite allows a deeper control over the components than the <a href="/documentation/command-line-api/">command line API</a> and the <a href="">graphical UI</a>.</p>

<ul id="markdown-toc">
  <li><a href="#the-data-model">The data model</a>    <ul>
      <li><a href="#the-termindex-class-the-terminology">The <code>TermIndex</code> class (the terminology)</a></li>
      <li><a href="#term-and-word-classes"><code>Term</code> and <code>Word</code> classes</a>        <ul>
          <li><a href="#example">Example</a></li>
        </ul>
      </li>
      <li><a href="#term-properties">Term properties</a></li>
      <li><a href="#the-termvariation-class">The <code>TermVariation</code> class</a></li>
    </ul>
  </li>
  <li><a href="#navigating-terminologies">Navigating terminologies</a>    <ul>
      <li><a href="#termindexgettermbygroupingkey"><code>TermIndex#getTermByGroupingKey()</code></a></li>
      <li><a href="#termindexgetterms-very-basic"><code>TermIndex#getTerms()</code> (very basic)</a></li>
      <li><a href="#the-traverser-class">The <code>Traverser</code> class</a>        <ul>
          <li><a href="#example-1-navigating-the-terms-by-specificity">Example 1: navigating the terms by specificity</a></li>
          <li><a href="#example-2-navigating-the-terms-by-document-frequency">Example 2: navigating the terms by document frequency</a></li>
          <li><a href="#example-3-navigating-the-variations-of-a-term-to-come">Example 3: navigating the variations of a term (to come)</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#termsuite-preprocessor">Preprocessing files: <code>TermSuitePreprocessor</code></a>    <ul>
      <li><a href="#outputs-as-json-files">Outputs as <code>json</code> files</a></li>
      <li><a href="#outputs-as-xmi-files">Outputs as <code>xmi</code> files</a></li>
      <li><a href="#outputs-as-uima-jcas-instances-stream">Outputs as UIMA <code>JCas</code> instances stream</a></li>
    </ul>
  </li>
  <li><a href="#termino-extractor">Terminology extraction: <code>TerminoExtractor</code> (Simple)</a>    <ul>
      <li><a href="#extract-terminology-from-text-files">Extract terminology from text files</a></li>
      <li><a href="#extract-terminology-from-preprocessed-files-xmi-or-json">Extract terminology from preprocessed files (<code>xmi</code> or <code>json</code>)</a></li>
      <li><a href="#extract-terminology-from-a-java-document-instances-stream">Extract terminology from a Java <code>Document</code> instances stream</a></li>
      <li><a href="#extract-terminology-from-a-java-string">Extract terminology from a Java <code>String</code></a></li>
      <li><a href="#important-optimize-terminology-extraction-with-filtering">Important: optimize terminology extraction with filtering</a>        <ul>
          <li><a href="#terminoextractorprefilter-not-advised"><code>TerminoExtractor#preFilter</code> (not advised)</a></li>
          <li><a href="#terminoextractordynamicmaxsizefilter-advised"><code>TerminoExtractor#dynamicMaxSizeFilter</code> (advised)</a></li>
        </ul>
      </li>
      <li><a href="#cleaning-the-output-terminology-with-terminoextractorpostfilter">Cleaning the output terminology with <code>TerminoExtractor#postFilter</code></a></li>
    </ul>
  </li>
  <li><a href="#termsuite-pipeline">Terminology extraction: <code>TermSuitePipeline</code> (Advanced)</a>    <ul>
      <li><a href="#exhaustive-list-of-analysis-engines-and-configurations">Exhaustive list of Analysis Engines and configurations</a></li>
    </ul>
  </li>
  <li><a href="#filtering-terminologies-terminofilterer">Filtering terminologies: <code>TerminoFilterer</code></a>    <ul>
      <li><a href="#configuring-the-filter-with-terminofilterconfig">Configuring the filter with <code>TerminoFilterConfig</code></a>        <ul>
          <li><a href="#example-1-keep-terms-that-occur-at-least-10-times">Example 1: keep terms that occur at least 10 times</a></li>
          <li><a href="#example-2-keep-the-500-most-specific-terms-and-their-variants">Example 2: keep the 500 most specific terms and their variants</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#exportimport-of-a-terminology">Export/Import of a terminology</a>    <ul>
      <li><a href="#export-json">Export to <code>json</code></a></li>
      <li><a href="#import-from-json">Import from <code>json</code></a></li>
      <li><a href="#export-to-tbx">Export to <code>tbx</code></a></li>
      <li><a href="#export-to-tsv">Export to <code>tsv</code></a></li>
    </ul>
  </li>
  <li><a href="#alignment">Bilingual term alignment</a>    <ul>
      <li><a href="#producing-terminologies-with-context-vectors">Producing terminologies with context vectors</a></li>
      <li><a href="#running-the-aligner-bilingualaligner">Running the aligner: <code>BilingualAligner</code></a></li>
    </ul>
  </li>
</ul>

<h3 id="the-data-model">The data model</h3>

<p>In TermSuite, a terminology can be seen as a graph where nodes are terms and edges are term variations.</p>

<h4 id="the-termindex-class-the-terminology">The <code>TermIndex</code> class (the terminology)</h4>

<p>A terminology is an instance of the class <code>TermIndex</code>, i.e. a collection of <code>Term</code> instances linked to each other by relations of type <code>TermVariation</code>.</p>

<p>Inside a given TermIndex, each term is uniquely identified by its words’ syntactic labels and lemmas. The identifier property of a term is <code>groupingKey</code>. The groupingKey built by concatenating:</p>

<ol>
  <li>its words’ syntactic labels,</li>
  <li>a colons <code>:</code>,</li>
  <li>its lemmas.</li>
</ol>

<p>Example of groupingKey: “npan: production of electric power”</p>

<p>See section <a href="#navigating-terminologies">Navigating Terminologies</a> to see how to access terms from a TermIndex object.</p>

<h4 id="term-and-word-classes"><code>Term</code> and <code>Word</code> classes</h4>

<p>A term is an instance of the class <code>Term</code>. A term is composed of <em>1</em> to <em>n</em> <code>TermWord</code> instances, each TermWord instance being a pointer to a TermIndex-unique <code>Word</code> instance wrapped with a syntactic label, as illustrated by class diagram below.</p>

<p><img src="/img/datamodel1.png" alt="Class diagram of TermIndex, Term, TermWord, and Word classes" /></p>

<h5 id="example">Example</h5>

<p>The term having <code>npan: production of electric power</code> as groupingKey is composed of four TermWord instances:</p>

<ol>
  <li>TermWord{syntacticLabel=N, word=<em>[pointer to word “production”]</em>}</li>
  <li>TermWord{syntacticLabel=P, word=<em>[pointer to word “of”]</em>}</li>
  <li>TermWord{syntacticLabel=A, word=<em>[pointer to word “electric”]</em>}</li>
  <li>TermWord{syntacticLabel=N, word=<em>[pointer to word “power”]</em>}</li>
</ol>

<h4 id="term-properties">Term properties</h4>

<p>In Java code, all properties of a java term can you can be accessed by both its Java Bean method <code>#get*PropertyName*()</code> and by its property object <code>TermProperty.PROPERTY_NAME</code> (via the TermProperty enum class):</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">Term</span> <span class="n">term</span> <span class="o">=</span>  <span class="n">myTermIndex</span><span class="o">.</span><span class="na">getTermByGroupingKey</span><span class="o">(</span><span class="s">&quot;npan: production of electric power&quot;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Frequency: &quot;</span> <span class="o">+</span> <span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">term</span><span class="o">));</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Frequency: &quot;</span> <span class="o">+</span> <span class="n">term</span><span class="o">.</span><span class="na">getFrequency</span><span class="o">());</span></code></pre>
</div>

<p>This is the list of all term properties currently supported by TermSuite:</p>

<table class="table table-striped">
	<thead>
		<tr>
			<th>Java constant</th>
			<th>Name</th>
			<th>Shortname</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
	
	<tr>
		<td>	RANK	</td>
		<td>	rank	</td>
		<td>	#	</td>
		<td>	the rank of the term after the terminology has been scored and sort by specificity	</td>
	</tr>
	
	<tr>
		<td>	PILOT	</td>
		<td>	pilot	</td>
		<td>	pilot	</td>
		<td>	the most frequent form of term	</td>
	</tr>
	
	<tr>
		<td>	FREQUENCY	</td>
		<td>	frequency	</td>
		<td>	f	</td>
		<td>	the number of occurrences of a term	</td>
	</tr>
	
	<tr>
		<td>	FREQUENCY_NORM	</td>
		<td>	frequencyNorm	</td>
		<td>	fnorm	</td>
		<td>	the normalized frequency	</td>
	</tr>
	
	<tr>
		<td>	GENERAL_FREQUENCY_NORM	</td>
		<td>	generalFrequencyNorm	</td>
		<td>	generalFnorm	</td>
		<td>	the general normalized frequency	</td>
	</tr>
	
	<tr>
		<td>	DOCUMENT_FREQUENCY	</td>
		<td>	documentFrequency	</td>
		<td>	dfreq	</td>
		<td>	the number of document in corpus that contain the term	</td>
	</tr>
	
	<tr>
		<td>	LEMMA	</td>
		<td>	lemma	</td>
		<td>	lm	</td>
		<td>	the concatenation of word lemmas	</td>
	</tr>
	
	<tr>
		<td>	GROUPING_KEY	</td>
		<td>	groupingKey	</td>
		<td>	gKey	</td>
		<td>	the term grouping key, i.e. the term <emph>id</emph> (pattern + lemma)	</td>
	</tr>
	
	<tr>
		<td>	SPECIFICITY	</td>
		<td>	specificity	</td>
		<td>	sp	</td>
		<td>	the specificity of a term, i.e. the log of its weirdness ratio	</td>
	</tr>
	
	<tr>
		<td>	PATTERN	</td>
		<td>	pattern	</td>
		<td>	p	</td>
		<td>	the syntactic pattern of the term	</td>
	</tr>
	
	<tr>
		<td>	SPOTTING_RULE	</td>
		<td>	spottingRule	</td>
		<td>	rule	</td>
		<td>	the <emph>UIMA Tokens Regex</emph> rule name that spotted the term	</td>
	</tr>
	
	</tbody>
</table>

<h4 id="the-termvariation-class">The <code>TermVariation</code> class</h4>

<p>One of the most interesting features of TermSuite is its ability to detect and extract term variations. This is reified in the data model with the <code>TermVariation</code> class.</p>

<p>A TermVariation instance is a directed link that binds two Term instances, the <code>base</code> and the <code>variant</code>. (In the case of a variation of type VariationType.GRAPHICAL, the TermVariation instance must be interpreted as a bidirectional relation)</p>

<p>All variations (resp. bases) of a term are accessed via the method <code>Term#getVariations()</code> (resp. Term#getBases()):</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">Term</span> <span class="n">term</span> <span class="o">=</span>  <span class="n">myTermIndex</span><span class="o">.</span><span class="na">getTermByGroupingKey</span><span class="o">(</span><span class="s">&quot;nn: wind turbine&quot;</span><span class="o">);</span>
<span class="k">for</span><span class="o">(</span><span class="n">TermVariation</span> <span class="nl">variation:</span><span class="n">term</span><span class="o">.</span><span class="na">getVariations</span><span class="o">())</span> <span class="o">{</span>
	<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s --%s--&gt; %s %n&quot;</span><span class="o">,</span>
			<span class="n">variation</span><span class="o">.</span><span class="na">getBase</span><span class="o">(),</span>
			<span class="n">variation</span><span class="o">.</span><span class="na">getVariationType</span><span class="o">(),</span>
			<span class="n">variation</span><span class="o">.</span><span class="na">getVariant</span><span class="o">()</span>
			<span class="o">);</span>
<span class="o">}</span></code></pre>
</div>

<p>This is the current list of all variation types supported by TermSuite:</p>

<table class="table table-striped">
	<thead>
		<tr><th>Java constant</th><th>Description</th></tr>
	</thead>
	<tbody>
	<tr>
		<td>	SYNTACTIC	</td> <td> A syntagmatic variation between two terms (e.g. from <i>nn: wind power</i> to <i>nnn: wind turbine power</i>)</td>
	</tr>
	<tr>
		<td>	MORPHOLOGICAL	</td> <td> A morphological variation between two terms (e.g. from <i>n: chemotherapy</i> to <i>an: chemohormonal therapy</i>)</td>
		</tr>
		<tr>
		<td>	GRAPHICAL	</td> <td>[Bidirectional]	A small orthographic variation between two terms (most probably a mistake)</td>
		</tr>
		<tr>
		<td>	DERIVES_INTO	</td> <td> (for single-word terms only)	A derivation between two words (e.g. from <i>n: behavior</i> to <i>a: behavioral</i>)</td>
		</tr>
		<tr>
		<td>	IS_PREFIX_OF	</td> <td> (for single-word terms only) A word prefixing (e.g. from <i>n: biodiversity</i> to <i>n: diversity</i>)</td>
	</tr>
	</tbody>
</table>

<h3 id="navigating-terminologies">Navigating terminologies</h3>

<h4 id="termindexgettermbygroupingkey"><code>TermIndex#getTermByGroupingKey()</code></h4>

<p>Any term with a TermIndex can be accessed via the method <code>#getTermByGroupingKey()</code>.</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">Term</span> <span class="n">t</span> <span class="o">=</span>  <span class="n">myTermIndex</span><span class="o">.</span><span class="na">getTermByGroupingKey</span><span class="o">(</span><span class="s">&quot;npan: production of electric power&quot;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">getFrequency</span><span class="o">());</span></code></pre>
</div>

<h4 id="termindexgetterms-very-basic"><code>TermIndex#getTerms()</code> (very basic)</h4>

<p>Use the <code>TermIndex#getTerms()</code> method  (the terminology) to retrieve all<br />
of terms of the terminology and do your processing manually with the collection api.</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Term</span><span class="o">&gt;</span> <span class="n">terms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Term</span><span class="o">&gt;(</span><span class="n">myTermIndex</span><span class="o">.</span><span class="na">getTerm</span><span class="o">());</span>
<span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">terms</span><span class="o">,</span> <span class="n">TermProperty</span><span class="o">.</span><span class="na">SPECIFICITY</span><span class="o">.</span><span class="na">getComparator</span><span class="o">(</span><span class="kc">true</span><span class="o">));</span></code></pre>
</div>

<h4 id="the-traverser-class">The <code>Traverser</code> class</h4>

<div class="alert alert-warning" role="alert">
  <p><strong>Note: </strong> The traverser mechanism is TermSuite is still in its embryonic form. Expect
substantial changes in the next versions of the API.</p>
</div>

<p>The <code>Traverser</code> class is inspired from <a href="https://neo4j.com/docs/java-reference/current/#tutorial-traversal">Neo4j’s traversal framework</a>.<br />
It aims at:</p>

<ol>
  <li>navigating easily the terms of a terminology</li>
  <li>navigating the variants of a term (Not yet supported)</li>
</ol>

<p>A traverser is initiated by invoking the <code>Traverser#by</code> method. It makes uses of <a href="#term-properties">term property names</a>.</p>

<h5 id="example-1-navigating-the-terms-by-specificity">Example 1: navigating the terms by specificity</h5>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">Traverser</span><span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="s">&quot;sp desc&quot;</span><span class="o">).</span><span class="na">stream</span><span class="o">(</span><span class="n">myTermIndex</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">term</span> <span class="o">-&gt;</span> <span class="o">{</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">term</span><span class="o">.</span><span class="na">getGroupingKey</span><span class="o">());</span>
<span class="o">});</span></code></pre>
</div>

<h5 id="example-2-navigating-the-terms-by-document-frequency">Example 2: navigating the terms by document frequency</h5>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">Traverser</span><span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="s">&quot;dfreq desc,sp desc&quot;</span><span class="o">).</span><span class="na">stream</span><span class="o">(</span><span class="n">myTermIndex</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">term</span> <span class="o">-&gt;</span> <span class="o">{</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">term</span><span class="o">.</span><span class="na">getGroupingKey</span><span class="o">());</span>
<span class="o">});</span></code></pre>
</div>

<h5 id="example-3-navigating-the-variations-of-a-term-to-come">Example 3: navigating the variations of a term (to come)</h5>

<div class="alert alert-warning" role="alert">
  <p>Not yet implemented. To come in the next version of TermSuite. Use Term#getVariations() in the meantime.</p>
</div>

<h3 id="termsuite-preprocessor">Preprocessing files: <code>TermSuitePreprocessor</code></h3>

<p><strong>Note:</strong> Explore <code>TermSuitePreprocessor</code> javadoc and discover all capabilities of this launcher class.</p>

<p>The <code>TermSuitePreprocessor</code> launcher allows to apply on a corpus only the preprocessings<br />
 available in TermSuite. Preprocessed corpus can then be reused either for terminology extraction<br />
 within TermSuite or for a completely different external use.</p>

<p>The preprocessing steps by applied <code>TermSuitePreprocessor</code> are:</p>

<ul>
  <li>tokenization,
    <ul>
      <li>POS-tagging with TreeTagger,</li>
      <li>lemmatization with TreeTagger,</li>
      <li>stemming,</li>
      <li>and multi-word term spotting.</li>
    </ul>
  </li>
</ul>

<p>Preprocessing outputs are available as UIMA CASes (Common Analysis System), either as<br />
<code>xmi</code> files, as <code>json</code> files, or as Java <code>JCas</code> instance if using the Java 8 streaming API.</p>

<p>The following subsections give the laucnher code for each of these three cases.</p>

<h4 id="outputs-as-json-files">Outputs as <code>json</code> files</h4>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermSuitePreprocessor</span>
		<span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">lang</span><span class="o">,</span> <span class="s">&quot;/path/to/corpus&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="s">&quot;/path/to/output/files&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="outputs-as-xmi-files">Outputs as <code>xmi</code> files</h4>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermSuitePreprocessor</span>
		<span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">lang</span><span class="o">,</span> <span class="s">&quot;/path/to/corpus&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">toXmi</span><span class="o">(</span><span class="s">&quot;/path/to/output/files&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="outputs-as-uima-jcas-instances-stream">Outputs as UIMA <code>JCas</code> instances stream</h4>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermSuitePreprocessor</span>
		<span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">lang</span><span class="o">,</span> <span class="s">&quot;/path/to/corpus&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">jCas</span> <span class="o">-&gt;</span> <span class="o">{</span>
				<span class="cm">/*</span>
<span class="cm">				 * Iterate over UIMA anotations...</span>
<span class="cm">				 */</span>  
		<span class="o">});</span></code></pre>
</div>

<h3 id="termino-extractor">Terminology extraction: <code>TerminoExtractor</code> (Simple)</h3>

<p><strong>Note:</strong> Explore <code>TerminoExtractor</code> javadoc and discover all capabilities of this launcher class.</p>

<h4 id="extract-terminology-from-text-files">Extract terminology from text files</h4>

<p>The minimal terminology extraction launcher is coded as:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
		<span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;/path/to/root/dir&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/tree/tagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<p>This launcher code above analyzes all <code>**/*.txt</code> files within the directory <code>/path/to/root/dir</code> and produces the returned terminology as a <code>TermIndex</code> instance. Use wildcards to refer to text files with other extensions:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
		<span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;/path/to/root/dir&quot;</span><span class="o">,</span> <span class="s">&quot;**/*.{txt,data}&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/tree/tagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="extract-terminology-from-preprocessed-files-xmi-or-json">Extract terminology from preprocessed files (<code>xmi</code> or <code>json</code>)</h4>

<p>Instead of text files, it is also possible to start a terminology extraction pipeline from a set of preprocessed <code>xmi</code> or <code>json</code> files. (See <a href="#termsuite-preprocessor"><code>TermSuitePreprocessor</code></a> for details on preprocessing)</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
		<span class="o">.</span><span class="na">fromPreprocessedXmiFiles</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;/path/to/preprocessed/xmi/files&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="n">FunctionalTests</span><span class="o">.</span><span class="na">getTaggerPath</span><span class="o">())</span>
		<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="extract-terminology-from-a-java-document-instances-stream">Extract terminology from a Java <code>Document</code> instances stream</h4>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&gt;</span> <span class="n">documents</span> <span class="o">=</span> <span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">();</span>
<span class="n">Document</span> <span class="n">document1</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Document</span><span class="o">(</span><span class="n">lang</span><span class="o">,</span> <span class="s">&quot;url1&quot;</span><span class="o">,</span> <span class="s">&quot;L&#39;énergie éolienne est l&#39;énergie de demain.&quot;</span><span class="o">);</span>
<span class="n">documents</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">document1</span><span class="o">);</span>
<span class="n">Document</span> <span class="n">document2</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Document</span><span class="o">(</span><span class="n">lang</span><span class="o">,</span> <span class="s">&quot;url2&quot;</span><span class="o">,</span> <span class="s">&quot;Une éolienne produit de l&#39;énergie.&quot;</span><span class="o">);</span>
<span class="n">documents</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">document2</span><span class="o">);</span>

<span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span><span class="o">.</span><span class="na">fromDocumentStream</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="n">documents</span><span class="o">.</span><span class="na">stream</span><span class="o">(),</span> <span class="mi">2</span><span class="o">)</span>
	<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="extract-terminology-from-a-java-string">Extract terminology from a Java <code>String</code></h4>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
	<span class="o">.</span><span class="na">fromTextString</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;L&#39;énergie éolienne est une énergie d&#39;avenir.&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h4 id="important-optimize-terminology-extraction-with-filtering">Important: optimize terminology extraction with filtering</h4>

<p>The term variant detection phase of the terminology extraction pipeline has a polynomial complexity. As a consequence, when input corpus are too big, the extraction phase may tend to be too long.</p>

<h5 id="terminoextractorprefilter-not-advised"><code>TerminoExtractor#preFilter</code> (not advised)</h5>

<p>One way to overcome this issue is to reduce the number of terms contained in the TermIndex before the term variant detection by placing a <a href="#filtering-terminologies">term filterer</a> in the TerminoExtractor, as illustrated below:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
	<span class="o">.</span><span class="na">fromTextString</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;L&#39;énergie éolienne est une énergie d&#39;avenir.&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">preFilter</span><span class="o">(</span><span class="k">new</span> <span class="nf">TerminoFilterConfig</span><span class="o">().</span><span class="na">by</span><span class="o">(</span><span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span><span class="o">).</span><span class="na">keepOverTh</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h5 id="terminoextractordynamicmaxsizefilter-advised"><code>TerminoExtractor#dynamicMaxSizeFilter</code> (advised)</h5>

<p>The best way to overcome this issue is to filter the TermIndex dynamically during the term spotting phase by setting a maximum number of terms allowed in memory:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
	<span class="o">.</span><span class="na">fromTextString</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;L&#39;énergie éolienne est une énergie d&#39;avenir.&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">dynamicMaxSizeFilter</span><span class="o">(</span><span class="mi">500000</span><span class="o">)</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<p>The TermIndex will then be cleaned by frequency every time the in-memory number of terms exceeds the parameter limit.</p>

<h4 id="cleaning-the-output-terminology-with-terminoextractorpostfilter">Cleaning the output terminology with <code>TerminoExtractor#postFilter</code></h4>

<p>An instance of <code>TerminoFilterConfig</code> (see Section <a href="#filtering-terminologies">filtering terminologies</a>) can also be passed to TerminoExtractor by mean of the method <code>#postFilter</code> to clean the extracted terminology at the end of the pipeline: (Equivalent to using <a href="#filtering-terminologies">TerminoFilterer#execute()</a> on the extracted terminology)</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
	<span class="o">.</span><span class="na">fromTextString</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">FR</span><span class="o">,</span> <span class="s">&quot;L&#39;énergie éolienne est une énergie d&#39;avenir.&quot;</span><span class="o">)</span>
	<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
  <span class="o">.</span><span class="na">postFilter</span><span class="o">(</span><span class="k">new</span> <span class="nf">TerminoFilterConfig</span><span class="o">().</span><span class="na">by</span><span class="o">(</span><span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span><span class="o">).</span><span class="na">keepOverTh</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h3 id="termsuite-pipeline">Terminology extraction: <code>TermSuitePipeline</code> (Advanced)</h3>

<p>All features and configuration you need to run a terminology extraction pipeline with the Java API is provided by the <code>TermSuitePipeline</code> class. <code>TerminoExtractor</code> and <code>TermSuitePreprocessor</code> are just wrappers of this class.</p>

<p>The typical terminology extraction pipeline using is configured and run as follows:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TermSuitePipeline</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">&quot;en&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setResourceFilePath</span><span class="o">(</span><span class="s">&quot;/path/to/termsuite-resources.jar&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setCollection</span><span class="o">(</span><span class="n">TermSuiteCollection</span><span class="o">.</span><span class="na">TXT</span><span class="o">,</span> <span class="s">&quot;/path/to/corpus&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">aeWordTokenizer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/tree-tagger&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">aeTreeTagger</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeUrlFilter</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeStemmer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeRegexSpotter</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeSpecificityComputer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeCompostSplitter</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aePrefixSplitter</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeSuffixDerivationDetector</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeSyntacticVariantGatherer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeGraphicalVariantGatherer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeExtensionDetector</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeScorer</span><span class="o">()</span>
		<span class="o">.</span><span class="na">aeThresholdCleaner</span><span class="o">(</span><span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTsvShowScores</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTsvShowHeaders</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTsvExportProperties</span><span class="o">(</span>
				<span class="n">TermProperty</span><span class="o">.</span><span class="na">GROUPING_KEY</span><span class="o">,</span>
				<span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span>
			<span class="o">)</span>
		<span class="o">.</span><span class="na">haeTsvExporter</span><span class="o">(</span><span class="s">&quot;termino.tsv&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">haeJsonExporter</span><span class="o">(</span><span class="s">&quot;termino.json&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">run</span><span class="o">()</span>
		<span class="o">.</span><span class="na">getTermIndex</span><span class="o">();</span></code></pre>
</div>

<p>A pipeline object is created by invoking the method :</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="err">`</span><span class="n">TermSuitePipeline</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">langCode</span><span class="o">)</span><span class="err">`</span></code></pre>
</div>

<p>Then you need to invoke the mandatory configuration, i.e. the corpus path  (the root of a  corpus), type, and encoding, and the resource path:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="o">.</span><span class="na">setResourcePath</span><span class="o">(</span><span class="s">&quot;/path/to/resource/pack&quot;</span><span class="o">)</span>
 <span class="o">.</span><span class="na">setCollection</span><span class="o">(</span>
		 <span class="n">TermSuiteCollection</span><span class="o">.</span><span class="na">TXT</span><span class="o">,</span>
		 <span class="s">&quot;/path/to/corpus&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span></code></pre>
</div>

<p>After that, methods starting with <code>ae</code> are <strong>primary</strong> (or <em>kernel</em>) <em>analysis engines</em>. These are the analysis engines implementing the core features of terminology extraction : tokenization, stemming, tagging, multi-word term spotting, specificity computing, term variation detection, morphological analysis, etc. Methods starting with <code>hae</code> are <strong>helper</strong> <em>analysis engines</em>, they implement secondary functionalities: import, export, etc.</p>

<p>Methods starting with <code>set</code> or <code>enable</code> help configure the analysis engines. In such case, they must preceed the AE they configure in the pipeline chain. For example:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
<span class="o">.</span><span class="na">aeTreeTagger</span><span class="o">()</span></code></pre>
</div>

<p>Finally, the method <code>#run()</code> starts the pipeline processing of the corpus. At the end of the process, you can get the Java terminology (an object of class <code>TermIndex</code>) extracted with the method <code>#getTermIndex()</code>:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">terminology</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="na">getTermIndex</span><span class="o">();</span></code></pre>
</div>

<h4 id="exhaustive-list-of-analysis-engines-and-configurations">Exhaustive list of Analysis Engines and configurations</h4>

<p>IDE auto-completion will assist you in finding available methods to build your own pipelines. Otherwise, to see what you can do with  <code>TermSuitePipeline</code>, see the <a href="http://www.javadoc.io/doc/fr.univ-nantes.termsuite/termsuite-core/2.3.1">Javadoc</a>.</p>

<h3 id="filtering-terminologies-terminofilterer">Filtering terminologies: <code>TerminoFilterer</code></h3>

<p>Cleaning and filtering terminologies (i.e. TermIndex instances) can be done with the <code>TerminoFilterer</code> launcher class. As showed by examples below, the main purpose of this class is to allow to pass a <code>TerminoFilterConfig</code> instance by mean of method <code>TerminoFilterer#configure</code>.</p>

<p>It is also possible, and often advised, to operate a filtering during the terminology extraction process by passing an instance of TerminoFilterConfig to <code>TerminoExtractor#preFilter</code> and <code>TerminoExtractor#postFilter</code>. See section <a href="#termino-extractor">TerminoExtractor</a> for more details.</p>

<h4 id="configuring-the-filter-with-terminofilterconfig">Configuring the filter with <code>TerminoFilterConfig</code></h4>

<p>There are two distinct mode of filtering in TermSuite:</p>

<ol>
  <li>filtering by threshold, (method <code>#keepOverTh</code>)</li>
  <li>filtering by keeping first-n terms. (method <code>#keepTopN</code>)</li>
</ol>

<p>Both modes imply specifying a TermProperty on which the filter is based. This property is set by invoking method <code>#by</code>.</p>

<p>It is also possible to configure wether term variants must be filtered when they do not pass the filter.</p>

<h5 id="example-1-keep-terms-that-occur-at-least-10-times">Example 1: keep terms that occur at least 10 times</h5>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TerminoFilterer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">myTermIndex</span><span class="o">)</span>
	<span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="k">new</span> <span class="nf">TerminoFilterConfig</span><span class="o">()</span>
		<span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="n">TermProperty</span><span class="o">.</span><span class="na">FREQUENCY</span><span class="o">)</span>
		<span class="o">.</span><span class="na">keepOverTh</span><span class="o">(</span><span class="mi">10</span><span class="o">))</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h5 id="example-2-keep-the-500-most-specific-terms-and-their-variants">Example 2: keep the 500 most specific terms and their variants</h5>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TerminoFilterer</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">myTermIndex</span><span class="o">)</span>
	<span class="o">.</span><span class="na">configure</span><span class="o">(</span><span class="k">new</span> <span class="nf">TerminoFilterConfig</span><span class="o">()</span>
    <span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="n">TermProperty</span><span class="o">.</span><span class="na">SPECIFICITY</span><span class="o">)</span>
		<span class="o">.</span><span class="na">keepTopN</span><span class="o">(</span><span class="mi">500</span><span class="o">)</span>
		<span class="o">.</span><span class="na">keepVariants</span><span class="o">())</span>
	<span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<h3 id="exportimport-of-a-terminology">Export/Import of a terminology</h3>

<h4 id="export-json">Export to <code>json</code></h4>

<p><code>json</code> is the native format of TermSuite, .i. the only format from which terminology can be reimported.</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndexIO</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span>
  <span class="n">myTermIndex</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">FileWriter</span><span class="o">(</span><span class="s">&quot;my-termino.json&quot;</span><span class="o">),</span>
  <span class="k">new</span> <span class="nf">JsonOptions</span><span class="o">()</span>
<span class="o">);</span></code></pre>
</div>

<p>The <code>JsonOptions</code> class configures the json export. Its parameters are:</p>

<table class="table table-striped">
	<tbody>
  	<tr>
  		<td> withOccurrences </td>
  		<td> (default: <i>true</i>) wether to store occurrences of each term (very space-greedy) </td>
  	</tr>
    <tr>
  		<td> withContext </td>
  		<td> (default: <i>false</i>) wether to store context vectors of each term (extremely space-greedy, to use only in the case of [term alignment](#alignment)) </td>
  	</tr>
    <tr>
  		<td> metadataOnly </td>
  		<td> (default: <i>false</i>) wether to read only the metadata of the terminology </td>
  	</tr>
    <tr>
  		<td> embeddedOccurrences </td>
  		<td> (default: <i>true</i>) wether to store term occurrences in memory (`true`) or in an external [MongoDB](https://www.mongodb.com/) store (`false`, to use then in conjunction with `mongoDBOccStoreURI`)</td>
  	</tr>
    <tr>
  		<td> mongoDBOccStoreURI </td>
  		<td> (no default) the [MongoDB connection string](https://docs.mongodb.com/manual/reference/connection-string/) of the store where to write or read term occurrences</td>
  	</tr>
	</tbody>
</table>

<h4 id="import-from-json">Import from <code>json</code></h4>

<p><code>json</code> is the only format from which Terminologies can be reimported into TermSuite.</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TermIndexIO</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span>
  <span class="s">&quot;my-termino.json&quot;</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">JsonOptions</span><span class="o">()</span>
<span class="o">);</span></code></pre>
</div>

<p>See the <a href="#export-json">Export to json</a> section to see what are the <code>JsonOptions</code> parameters available.</p>

<h4 id="export-to-tbx">Export to <code>tbx</code></h4>

<p>TermSuite Terminologies can be exported to <a href="http://www.tbxinfo.net/">TBX</a> format (TermBase eXchange).</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TbxExporter</span><span class="o">.</span><span class="na">export</span><span class="o">(</span>
  <span class="n">myTermIndex</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">FileWriter</span><span class="o">(</span><span class="s">&quot;my-termino.tbx&quot;</span><span class="o">)</span>
<span class="o">);</span></code></pre>
</div>

<h4 id="export-to-tsv">Export to <code>tsv</code></h4>

<p>TermSuite Terminologies can be exported to TSV (Tab-Separated Values) format. This format is very convenient because it can be imported in spreadsheet softwares like <em>Excel</em> and <em>Calc</em>. It is also a very human readable format in itself.</p>

<p>Terminologies are exported to tsv as follows:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TsvExporter</span><span class="o">.</span><span class="na">export</span><span class="o">(</span>
  <span class="n">myTermIndex</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">FileWriter</span><span class="o">(</span><span class="s">&quot;my-termino.tsv&quot;</span><span class="o">),</span>
  <span class="k">new</span> <span class="nf">TsvOptions</span><span class="o">()</span>
<span class="o">);</span></code></pre>
</div>

<p>The <code>TsvOptions</code> class configures the TSV export. Its parameters are:</p>

<table class="table table-striped">
	<tbody>
  	<tr>
  		<td> showHeaders </td>
  		<td> (default: <i>true</i>) print headers </td>
  	</tr>
    <tr>
  		<td> showScores </td>
  		<td> (default: <i>false</i>) print variation scores </td>
  	</tr>
    <tr>
  		<td> showVariants </td>
  		<td> (default: <i>true</i>) print term variants right after terms</td>
  	</tr>
    <tr>
  		<td> properties </td>
  		<td> (default: <i>groupingKey,frequency</i>) the columns of the output tsv file </td>
  	</tr>
	</tbody>
</table>

<h3 id="alignment">Bilingual term alignment</h3>

<p>Requirements:</p>

<ul>
  <li>a source terminology with context vectors computed,</li>
  <li>a target terminology with context vectors computed,</li>
  <li>a <a href="/documentation/resources/#dictionary">bilingual dictionary</a>.</li>
</ul>

<h4 id="producing-terminologies-with-context-vectors">Producing terminologies with context vectors</h4>

<p>In order to run aligner successfully, you need to extract the terminologies with a context vector for each term:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">termIndex</span> <span class="o">=</span> <span class="n">TerminoExtractor</span>
    <span class="o">.</span><span class="na">fromTxtCorpus</span><span class="o">(</span><span class="n">Lang</span><span class="o">.</span><span class="na">EN</span><span class="o">,</span> <span class="s">&quot;/path/to/my/corpus&quot;</span><span class="o">,</span> <span class="s">&quot;**/*.txt&quot;</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">useContextualizer</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="n">ContextualizerMode</span><span class="o">.</span><span class="na">ON_SWT_TERMS</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setTreeTaggerHome</span><span class="o">(</span><span class="s">&quot;/path/to/treetagger&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">execute</span><span class="o">();</span></code></pre>
</div>

<p>And if you need to store extracted terminologies, the serialization of context vectors must be declared explicitely:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndexIO</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span>
  <span class="n">sourceTermino</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">FileWriter</span><span class="o">(</span><span class="s">&quot;source-termino.json&quot;</span><span class="o">),</span>
  <span class="k">new</span> <span class="nf">JsonOptions</span><span class="o">().</span><span class="na">withContexts</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
<span class="o">);</span></code></pre>
</div>

<p>And also at deserialization step:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="n">TermIndex</span> <span class="n">sourceTermino</span> <span class="o">=</span> <span class="n">TermIndexIO</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span>
  <span class="s">&quot;source-termino.json&quot;</span><span class="o">,</span>
  <span class="k">new</span> <span class="nf">JsonOptions</span><span class="o">().</span><span class="na">withContexts</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
<span class="o">);</span></code></pre>
</div>

<h4 id="running-the-aligner-bilingualaligner">Running the aligner: <code>BilingualAligner</code></h4>

<p><code>BilingualAligner</code> is the launcher class for bilingual alignment. Use it as follows:</p>

<div class="highlight">
  <pre><code class="language-java" data-lang="java"><span class="cm">/*</span>
<span class="cm"> * Create an aligner for the source and target terminologies.</span>
<span class="cm"> */</span>
<span class="n">BilingualAligner</span> <span class="n">aligner</span> <span class="o">=</span> <span class="n">TermSuiteAlignerBuilder</span><span class="o">.</span><span class="na">start</span><span class="o">()</span>
		<span class="o">.</span><span class="na">setSourceTerminology</span><span class="o">(</span><span class="n">terminoEn</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setTargetTerminology</span><span class="o">(</span><span class="n">terminoFr</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setDicoPath</span><span class="o">(</span><span class="s">&quot;dico-EN-FR.txt&quot;</span><span class="o">)</span>
		<span class="o">.</span><span class="na">create</span><span class="o">();</span>

<span class="cm">/*</span>
<span class="cm"> * The term to align.</span>
<span class="cm"> */</span>
<span class="n">Term</span> <span class="n">sourceTerm</span> <span class="o">=</span> <span class="n">terminoEn</span><span class="o">.</span><span class="na">getTermByGroupingKey</span><span class="o">(</span><span class="s">&quot;nn: wind power&quot;</span><span class="o">)</span>

<span class="cm">/*</span>
<span class="cm"> * Align the english term &quot;nn: wind power&quot; with english corpus</span>
<span class="cm"> * and retrieve 10 candidates. Force the co-terms to occur</span>
<span class="cm"> * at least 2 times in the target termino.</span>
<span class="cm"> */</span>
 <span class="n">List</span><span class="o">&lt;</span><span class="n">TranslationCandidate</span><span class="o">&gt;</span> <span class="n">results</span> <span class="o">=</span> <span class="n">aligner</span><span class="o">.</span><span class="na">align</span><span class="o">(</span><span class="n">sourceTerm</span><span class="o">,</span> <span class="mi">10</span><span class="o">,</span> <span class="mi">2</span><span class="o">);</span>
 <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
 <span class="k">for</span> <span class="o">(</span><span class="n">BilingualAligner</span><span class="o">.</span><span class="na">TranslationCandidate</span> <span class="n">r</span> <span class="o">:</span> <span class="n">results</span><span class="o">)</span> <span class="o">{</span>
	 <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%2d %-10s [%.2f] %-15s%n&quot;</span><span class="o">,</span>
			 <span class="n">i</span><span class="o">,</span>
			 <span class="n">r</span><span class="o">.</span><span class="na">getMethod</span><span class="o">().</span><span class="na">getShortName</span><span class="o">(),</span>
			 <span class="n">r</span><span class="o">.</span><span class="na">getScore</span><span class="o">(),</span>
			 <span class="n">r</span><span class="o">.</span><span class="na">getTerm</span><span class="o">().</span><span class="na">getGroupingKey</span><span class="o">()</span>
		 <span class="o">);</span>
 <span class="o">}</span></code></pre>
</div>


      </article>
    </div>
  </div>

</div>


    </div>
    <div id="footer">
      <footer>
<hr />
  <div class="container">

    <div class="row">
      <div class="col-sm-3">
        <h4>About</h4>
        <p>TermSuite is a Java UIMA-based toolbox for <strong>terminology extraction</strong> and <strong>multilingual term alignment</strong>.</p>
      </div>
      <div class="col-sm-1"></div>
      <div class="col-sm-4">
        <h4>
          <a href="/contact">Contact</a>
        </h4>
        <p class="text-center">
            <a href="mailto:termsuite@univ-nantes.fr">termsuite@univ-nantes.fr</a>
        </p>
        Team
        <ul>

          
            <li><a href="https://github.com/pompadour"><p>Damien Cram</p>
</a></li>
          
            <li><a href="http://bdaille.com/"><p>Béatrice Daille</p>
</a></li>
          
        </ul>
      </div>
      <div class="col-sm-1"></div>
      <div class="col-sm-3">
        <h4>Links</h4>
        <ul>
          <li>
            <a href="/contact">Newsletter</a>
          </li>
          <li>
            <a href="https://github.com/termsuite/termsuite-core">Github</a>
          </li>
          <li>
            <a href="https://bintray.com/termsuite/generic/termsuite-ui">Bintray</a>
          </li>
          <li>
            <a href="https://github.com/termsuite/termsuite-core/issues">Github issues</a>
          </li>
          <li>
            <a href="http://www.javadoc.io/doc/fr.univ-nantes.termsuite/termsuite-core/2.3.1/">Javadoc</a>
          </li>
          <li>
            <a href="https://repo1.maven.org/maven2/fr/univ-nantes/termsuite/termsuite-core/2.3.1/">Maven</a>
          </li>
        </ul>
      </div>
    </div>

    <div id="copyright" class="row">
      <p class="text-center">© University of Nantes 2015-2016</p>
    </div>
  </div>
</footer>

    </div>
  </body>

</html>
